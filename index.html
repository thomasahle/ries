<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>RIES Equation Solver</title>
</head>
<body>
  <h1>RIES â€“ Reverse Inverse Equation Solver</h1>
  <p>Enter a number and RIES will find equations approximating that value:</p>
  <input type="text" id="numberInput" placeholder="Enter a number" />
  <button onclick="runRIES()">Solve</button>

  <pre id="output"></pre> <!-- Area to display results -->

  <script>
    // Reference to the output <pre> element
    var outputElement = document.getElementById('output');

    // Configure the Emscripten Module to capture output
    var Module = {
      print: function(text) {
        // This function is called whenever RIES prints to stdout.
        outputElement.textContent += text + "\n";
      },
      printErr: function(text) {
        // For error logs or stderr, we could display or just log to console
        console.error(text);
      }
      // We set noInitialRun via INVOKE_RUN=0 at compile time, so main won't run until we call it.
    };

    // Function to run RIES with the user-provided number
    function runRIES() {
      outputElement.textContent = "";  // clear previous output
      var num = document.getElementById('numberInput').value.trim();
      if (num) {
        // Call the main function of RIES with the number as argument
        Module.callMain([num]);
      }
    }
  </script>

  <!-- Load the WebAssembly module (generated by Emscripten) -->
  <script src="ries.js"></script>
</body>
</html>
